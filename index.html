<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>AI Photo Editor</title>
</head>

<body style="text-align:center;font-family:Arial;direction:rtl">

  <h1>ارفع صورتك للتعديل</h1>

  <input type="file" id="imageUpload" accept="image/*" />
  <br><br>

  <button onclick="uploadImage()">رفع الصورة</button>

  <p id="status"></p>

  <img id="preview" width="250" style="margin-top:15px;border-radius:10px;" />

  <script>
    function uploadImage() {
      const file = document.getElementById("imageUpload").files[0];

      if (!file) {
        alert("اختر صورة أولاً");
        return;
      }

      const formData = new FormData();
      formData.append("file", file);
      formData.append("upload_preset", "unsigned_upload");
      formData.append("cloud_name", "dtwqkxjec");

      document.getElementById("status").innerText = "جاري رفع الصورة...";

      fetch("https://api.cloudinary.com/v1_1/dtwqkxjec/image/upload", {
        method: "POST",
        body: formData
      })
      .then(res => res.json())
      .then(data => {
        document.getElementById("status").innerText = "تم رفع الصورة بنجاح ✅";
        document.getElementById("preview").src = data.secure_url;
        console.log("رابط الصورة:", data.secure_url);
      })
      .catch(err => {
        document.getElementById("status").innerText = "حدث خطأ أثناء الرفع ❌";
        console.error(err);
      });
    }
  </script>

</body>
</html>
